<!doctype html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ساختار برنامه :: Eloquent JavaScript</title>
  <link rel=stylesheet href="js/node_modules/codemirror/lib/codemirror.css">
  <script src="js/acorn_codemirror.js"></script>
  <link rel=stylesheet href="css/ejs.css">
  <script src="js/sandbox.js"></script>
  <script src="js/ejs.js"></script><script>var chapNum = 2;</script></head>

<article>
<nav><a href="01_values.html" title="previous chapter">◀</a> <a href="index.html" title="cover">◆</a> <a href="03_functions.html" title="next chapter">▶</a></nav>

<h1><span class=chap_num>Chapter 2</span>ساختار برنامه</h1>

<blockquote>

<p><a class="p_ident" id="p_J/zCYrllfQ" href="#p_J/zCYrllfQ" tabindex="-1" role="presentation"></a>And my heart glows bright red under my filmy, translucent skin and they have to administer 10cc of JavaScript to get me to come back. (I respond well to toxins in the blood.) Man, that stuff will kick the peaches right out your gills!</p>

<footer>_why, <cite>Why's (Poignant) Guide to Ruby</cite></footer>

</blockquote><figure class="chapter framed"><img src="img/chapter_picture_2.jpg" alt="Picture of tentacles holding objects"></figure>

<p><a class="p_ident" id="p_2jmj7l5rSw" href="#p_2jmj7l5rSw" tabindex="-1" role="presentation"></a>در این فصل، قصد داریم شروع به انجام کارهایی بکنیم که بشود نام آن را واقعا <em>برنامه‌نویسی</em> گذاشت. دانش جاوااسکریپت خود را به فراتر از اسامی و بخش‌های جزئی که تا کنون دیده‌ایم، توسعه خواهیم داد تا به جایی برسیم که بتوانیم برنامه‌های معناداری بسازیم.</p>

<h2><a class="h_ident" id="h_s218nGJZf7" href="#h_s218nGJZf7" tabindex="-1" role="presentation"></a>عبارت‌ها و دستورات</h2>

<p>در <a href="01_values.html">فصل 1</a>، مقدارهایی را ایجاد و عملگرهایی را به آن ها اعمال کردیم تا مقدارهای تازه‌ای ایجاد کنیم. تولید مقدارها به این صورت، جوهر اساسی هر برنامه‌ی جاوااسکریپت است، اما این جوهر اساسی باید در یک ساختار بزرگتر قرار گیرد تا کاربردی شود. این کاری است که در این فصل به آن خواهیم پرداخت.</p>

<p><a class="p_ident" id="p_7JgUOWuib6" href="#p_7JgUOWuib6" tabindex="-1" role="presentation"></a>قطعه کدی که باعث تولید یک مقدار می شود را اصطلاحا <em>عبارت</em> (expression) می گویند. هر مقداری که در برنامه به طور مستقیم نوشته میشود (مانند <code>22</code> یا <code>&quot;psychoanalysis&quot;</code> ) در واقع یک عبارت است. یک عبارت اگر داخل پرانتز قرار گیرد نیز یک عبارت محسوب می شود. به همین ترتیب، عملگر دودویی اگر به دو عبارت اعمال شود یا عملگر یکانی اگر به یک عبارت اعمال شود، تولید عبارت جدید می کنند.</p>

<p>این شیوه کارکرد عبارت‌ها گوشه‌ای از زیبایی شباهت زبان برنامه نویسی به زبان طبیعی را نشان می دهد. درست شبیه زیر‌جمله‌ها در زبان های بشری، عبارت‌ها می توانند تو در تو باشند . یک زیرجمله می تواند زیرجمله‌ی دیگری را در بر داشته باشد و الی آخر. این ویژگی باعث می شود بتوانیم عبارت‌ها را ترکیب کنیم تا محاسبات پیچیده‌تری را انجام دهیم.</p>

<p><a class="p_ident" id="p_u7kwzEJlB+" href="#p_u7kwzEJlB+" tabindex="-1" role="presentation"></a>اگر یک عبارت را معادل بخشی از جمله در نظر بگیریم، یک <em>دستور</em> (statement) جاوااسکریپت را می توان یک جمله‌ی کامل در زبان بشری دانست. یک برنامه، لیستی از دستورات است.</p>

<p>ساده ترین شکل یک دستور شامل یک عبارت و یک سمی کالن در انتهای آن است. این یک برنامه است:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_hjwmfcgDR0" href="#c_hjwmfcgDR0" tabindex="-1" role="presentation"></a><span class="cm-number">1</span>;
<span class="cm-operator">!</span><span class="cm-atom">false</span>;</pre>

<p><a class="p_ident" id="p_G68h+cKOs9" href="#p_G68h+cKOs9" tabindex="-1" role="presentation"></a>البته برنامه بالا، کاربردی ندارد. یک عبارت می تواند منجر به تولید یک مقدار شود، مقداری که بعدا توسط کدهای اطرافش استفاده شود. یک دستور به طور مستقل عمل می کند و زمانی می توان آن را دستوری صحیح نامید که اثری برجای بگذارد. می تواند چیزی را روی صفحه نمایش دهد – که اثرگذاری محسوب می شود – یا حالت درونی برنامه را به گونه‌ای تغییر دهد که بر عبارت هایی که بعد می آیند اثر بگذارد. این تغییرات را اثرات جانبی (<em>side effects</em>) می نامند. در مثال قبل، دستوراتی که آورده شدند فقط مقدارهای <code>1</code> و <code>true</code> را تولید می کردند و بلافاصله آن ها را بدون استفاده رها می کردند. این کار به هیچ وجه اثری بر جای نمی گذارد. زمانی که این برنامه اجرا می شود، اتفاق قابل مشاهده‌ای رخ نمی دهد.</p>

<p>در بعضی موارد، می توان در جاوااسکریپت از گذاشتن سمی کالن در انتهای دستور صرف نظر کرد. در دیگر موارد، باید حتما استفاده شود، در غیر این صورت خط بعدی به عنوان ادامه‌ی دستور قبل محاسبه خواهد شد. قوانین مربوط به حذف یا جاگذاری سمی کالن در دستورات می توانند پیچیده و خطاساز باشند. بنابراین در این کتاب، هر دستوری که به سمی کالن نیاز داشته باشد، با سمی کالن پایان می یابد. توصیه‌ی من این است که شما نیز همین کار را بکنید، حداقل تا زمانی که اطلاعات بیشتری در مورد ریزه کاری‌های مربوط به حذف سمی کالن بدست بیاورد.</p>

<h2><a class="h_ident" id="h_cRQyr0JL5B" href="#h_cRQyr0JL5B" tabindex="-1" role="presentation"></a>متغیرها</h2>

<p>چگونه یک برنامه، یک وضعیت داخلی را نگه‌داری می کند؟ چگونه‌ برنامه مواردی را به خاطر می سپارد؟ پیش از این دیدیم که چطور می توان مقادیر جدید را از مقدارهای قبلی به وجود آورد، این کار تغییری در مقادیر قبلی به وجود نمی آورد و مقادیر جدید هم باید بلافاصله استفاده شوند وگرنه از دسترس خارج می شوند. برای حفظ این مقادیر، جاوااسکریپت راهی را پیشنهاد می دهد که <em>متغیر</em> نامیده می شود:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_aT9yLxdY/V" href="#c_aT9yLxdY/V" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">caught</span> <span class="cm-operator">=</span> <span class="cm-number">5</span> <span class="cm-operator">*</span> <span class="cm-number">5</span>;</pre>

<p>استفاده از متغیر، نوع دومی از دستور را به ما معرفی می کند. <em>کلمه‌ی کلیدی</em> <code>let</code> مشخص می کند که این جمله قرار است تا متغیری را تعریف نماید. بعد از این کلمه کلیدی، نام متغیر می‌آید و در صورتی که بخواهیم مقداری را بلافاصله به آن اختصاص دهیم، می توانیم از عملگر <code>=</code> استفاده کنیم.</p>

<p><a class="p_ident" id="p_zK0bHLrYOB" href="#p_zK0bHLrYOB" tabindex="-1" role="presentation"></a>دستور بالا متغیری به نام <code>caught</code> را ایجاد کرده و از آن برای نگه‌داری یک عدد که از حاصل ضرب 5 در 5 به وجود آمده است، استفاده می کند.</p>

<p>بعد از اینکه یک متغیر تعریف شد، می توان نام آن را به عنوان یک عبارت مورد استفاده قرار داد. مقدار این نوع عبارت همان مقداریست که متغیر در حال حاضر نگه‌داری می کند. به مثال توجه نمایید:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_FfLIqaoaFx" href="#c_FfLIqaoaFx" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">ten</span> <span class="cm-operator">=</span> <span class="cm-number">10</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">ten</span> <span class="cm-operator">*</span> <span class="cm-variable">ten</span>);
<span class="cm-comment">// → 100</span></pre>

<p>زمانی که یک متغیر به مقداری اشاره می کند، به این معنی نیست که برای همیشه به آن گره خورده است. عملگر  <code>=</code> را می توان در هر زمان استفاده کرد و متغیرهای فعلی را از مقادیری که به آن‌ها اشاره می کنند جدا کرده و به مقادیر جدیدی اختصاص داد.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_FiZBrHz3CX" href="#c_FiZBrHz3CX" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">mood</span> <span class="cm-operator">=</span> <span class="cm-string">&quot;light&quot;</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">mood</span>);
<span class="cm-comment">// → light</span>
<span class="cm-variable">mood</span> <span class="cm-operator">=</span> <span class="cm-string">&quot;dark&quot;</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">mood</span>);
<span class="cm-comment">// → dark</span></pre>

<p>می توانید متغیرها را به جای جعبه به بازوچه‌ها تشبیه کنید. آن ها مقدارها را در خود <em>نگه</em> نمی دارند، بلکه به آن‌ها <em>دسترسی</em> دارند – دو متغیر می توانند به یک مقدار مشابه اشاره کنند. یک برنامه فقط می تواند به مقدارهایی که همچنان امکان رجوع به آن ها را دارد، دسترسی داشته باشد. زمانی که لازم باشد چیزی را در برنامه حفظ کنید ( به خاطر بسپارید )، بازوچه ای را به سمت آن می فرستید تا آن را نگه دارد یا یکی از بازوچه‌های (دست‌های) فعلی را مامور آن چیز می کنید.</p>

<p><a class="p_ident" id="p_lypnxIGSco" href="#p_lypnxIGSco" tabindex="-1" role="presentation"></a>اجازه دهید تا مثالی دیگر را بررسی کنیم. برای به یاد آوری دلارهایی که لوئیجی هنوز به شما بدهکار است، می توانید از یک متغیر استفاده کنید. زمانی که او 35 دلار به شما پس می دهد، مقدار متغیر مورد نظر را تغییر می دهید.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_UpFQBNACng" href="#c_UpFQBNACng" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">luigisDebt</span> <span class="cm-operator">=</span> <span class="cm-number">140</span>;
<span class="cm-variable">luigisDebt</span> <span class="cm-operator">=</span> <span class="cm-variable">luigisDebt</span> <span class="cm-operator">-</span> <span class="cm-number">35</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">luigisDebt</span>);
<span class="cm-comment">// → 105</span></pre>

<p>زمانی که متغیری را تعریف می کنید اما به آن مقدار اولیه اختصاص نمی دهید، بازوچه‌ای که مثال زدیم هنوز چیزی ندارد تا به آن اشاره کند، بنابراین به جای خاصی اشاره نخواهد کرد. اگر در جایی از برنامه درخواستی برای یک متغیر خالی ارسال کنید، مقداری که به شما باز خواهد گشت <code>undefined</code> خواهد بود.</p>

<p>میتوان از یک <code>let</code> برای تعریف چندین متغیر استفاده نمود. این تعریف ها بایستی به وسیله ویرگول جدا شوند.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_pT4pqev8kx" href="#c_pT4pqev8kx" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">one</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>, <span class="cm-def">two</span> <span class="cm-operator">=</span> <span class="cm-number">2</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">one</span> <span class="cm-operator">+</span> <span class="cm-variable">two</span>);
<span class="cm-comment">// → 3</span></pre>

<p><a class="p_ident" id="p_Sp+42SlyOC" href="#p_Sp+42SlyOC" tabindex="-1" role="presentation"></a>کلمه‌های <code>var</code> و  <code>const</code> را نیز می توان به طور مشابهی برای ایجاد متغیرها ( binding) استفاده کرد. درست شبیه استفاده از <code>let</code>.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_8QmBe23E5V" href="#c_8QmBe23E5V" tabindex="-1" role="presentation"></a><span class="cm-keyword">var</span> <span class="cm-def">name</span> <span class="cm-operator">=</span> <span class="cm-string">&quot;Ayda&quot;</span>;
<span class="cm-keyword">const</span> <span class="cm-def">greeting</span> <span class="cm-operator">=</span> <span class="cm-string">&quot;Hello &quot;</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">greeting</span> <span class="cm-operator">+</span> <span class="cm-variable">name</span>);
<span class="cm-comment">// → Hello Ayda</span></pre>

<p><a class="p_ident" id="p_26uB4DLE8w" href="#p_26uB4DLE8w" tabindex="-1" role="presentation"></a>اولین کلمه کلیدی، <code>var</code> (کوتاه شده‌ی “variable”)، روشی بود که انتساب‌ها را در نسخه قبل از 2015 جاوااسکریپت با آن تعریف می می کردند. در <a href="03_functions.html">فصل بعدی</a> به تفاوت آن با <code>let</code> خواهیم پرداخت. فعلا، به خاطر داشته باشید که هر دوی آن‌ها در بیشتر اوقات، کار مشابهی انجام می دهند، اما در این کتاب ما به ندرت از <code>var</code> استفاده خواهیم کرد به خاطر اینکه خصوصیات گیج کننده‌ای دارد.</p>

<p>کلمه کلیدی <code>const</code> به معنای انتساب <em>ثابت</em> است. این کلمه کلیدی یک ثابت تعریف می نماید که این ثابت تا زمانی که وجود دارد، به مقدار یکسانی اشاره خواهد کرد. این نوع تعریف، برای نامگذاری یک مقدار در طول برنامه برای مراجعات بعدی مفید است.</p>

<h2><a class="h_ident" id="h_88EH/mGSae" href="#h_88EH/mGSae" tabindex="-1" role="presentation"></a>نامگذاری انتساب‌ها (متغیرها)</h2>

<p>می توان از هر کلمه‌ای برای نامگذاری انتساب‌ها استفاده کرد. می توان از ارقام برای بخشی از نام متغیر استفاده کرد – مثلا <code>catch22</code> یک نام معتبر است– اما نمی توان آن را با اعداد شروع کرد. نام یک متغیر می تواند شامل علامت دلار (<code>$</code>) یا زیرخط (<code>_</code>) باشد اما دیگر علامت‌های نقطه گذاری یا کاراکترهای ویژه را نمی توان استفاده کرد.</p>

<p>کلماتی که معنای خاصی در جاوااسکریپت دارند مانند <code>let</code> را <em>کلمات کلیدی</em> می نامند و نمی توان از آن ها برای نام گذاری متغیرها استفاده کرد. همچنین یک تعداد مشخصی از کلمات وجود دارند که برای نسخه‌های آینده جاوااسکریپت رزرو شده اند که نمی توان از آن‌ها نیز برای نامگذاری متغیرها استفاده کرد. لیست تمامی این کلمات کلیدی و رزرو شده، نسبتا بلند است.</p>

<pre class="snippet cm-s-default" data-language="text/plain" ><a class="c_ident" id="c_7BGolnv7qC" href="#c_7BGolnv7qC" tabindex="-1" role="presentation"></a>break case catch class const continue debugger default
delete do else enum export extends false finally for
function if implements import interface in instanceof let
new package private protected public return static super
switch this throw true try typeof var void while with yield</pre>

<p>نگران حفظ کردن کلمات بالا نباشید. اگر هنگام تعریف یک متغیر با خطایی خلاف انتظار روبرو شدید، مطمئن شوید که از کلمات لیست بالا استفاده نکرده باشید.</p>

<h2><a class="h_ident" id="h_9Z6m0iQJ33" href="#h_9Z6m0iQJ33" tabindex="-1" role="presentation"></a>محیط اجرایی</h2>

<p><a class="p_ident" id="p_xuRU2WDfSE" href="#p_xuRU2WDfSE" tabindex="-1" role="presentation"></a>به مجموعه‌ی انتساب‌ها (متغیرها) و مقادیر آن‌ها که در یک زمان مشخص فعال هستند محیط اجرایی <em>environment</em> گفته می شود. زمانی که برنامه‌ای اجرا می شود، این محیط خالی نیست و حاوی انتساب‌هایی است که بخشی از استاندارد زبان هستند. بیشتر اوقات، محیط اجرایی، مواردی را هم فراهم می نماید تا بتوان به وسیله‌ی آن‌ها با سیستم پیرامون تعامل برقرار کرد. به عنوان مثال، در یک مرورگر وب، توابعی در دسترس هستند که می توان از طریق آن ها با وب سایتی که بارگذاری شده است تعامل داشت و یا  ورودی‌های موس و صفحه‌کلید را خواند.</p>

<h2><a class="h_ident" id="h_vAoppXbLUs" href="#h_vAoppXbLUs" tabindex="-1" role="presentation"></a>توابع</h2>

<p><a class="p_ident" id="p_whjjnvouGq" href="#p_whjjnvouGq" tabindex="-1" role="presentation"></a>خیلی از مقدارهایی که در محیط اجرایی پیش‌فرض، وجود دارند از نوع <em>function</em> هستند. یک تابع در واقع یک قطعه یا بخشی از برنامه‌ است که در قالب یک مقدار قرار گرفته است. این نوع مقدار‌ها را می توان بکار گرفت تا برنامه‌ی موجود در آن را اجرا نمود. به عنوان مثال، در محیط مرورگر، انتساب <code>prompt</code> تابعی را نگه‌داری می کند که در صورت اجرا، پنجره‌ی گفتگویی را نشان می دهد که می تواند اطلاعاتی را از کاربر دریافت نماید که به شکل زیر استفاده می شود:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_QSUssd4nHv" href="#c_QSUssd4nHv" tabindex="-1" role="presentation"></a><span class="cm-variable">prompt</span>(<span class="cm-string">&quot;Enter passcode&quot;</span>);</pre><figure><img src="img/prompt.png" alt="A prompt dialog"></figure>

<p>به اجرای یک تابع، <em>فراخوانی</em>، <em>صدازدن</em>، یا <em>بکارگیری</em> آن گفته می شود. برای صدازدن یک تابع می توان یک جفت پرانتز را در جلوی عبارتی که یک مقدار از نوع تابع را تولید می کند قرار دارد. معمولا به طور مستقیم با متغیری که حاوی تابع است کار می کنید. اگر بین پرانتز مقادیری قرار گیرد، این مقادیر به برنامه‌ای که در داخل تابع قرار دارد فرستاده می شود. در مثال، تابع <code>prompt</code> از رشته ای که به آن می دهیم استفاده کرده و آن را به عنوان متن پنجره‌ی گفتگو استفاده می کند. مقدارهایی که به توابع فرستاده می شوند را <em>آرگومان</em> می گوییم. توابع مختلف ممکن است به تعداد و انواع مختلف آرگومان نیاز داشته باشند.</p>

<p>تابع <code>prompt</code> زیاد در برنامه‌نویسی وب مدرن استفاده نمی شود، و علت آن بیشتر به خاطر نداشتن کنترل روی ظاهر پنجره‌ی گفتگو است. اما می توان از آن در بعضی موارد مثل برنامه‌های تفننی یا آزمایش کردن استفاده کرد.</p>

<h2><a class="h_ident" id="h_XrgJjP1OnI" href="#h_XrgJjP1OnI" tabindex="-1" role="presentation"></a>تابع console.log</h2>

<p><a class="p_ident" id="p_TdACPv82GV" href="#p_TdACPv82GV" tabindex="-1" role="presentation"></a>در مثال های قبلی، من از <code>console.log</code> برای نمایش مقدارها استفاده کردم. اکثر سیستم‌های جاوااسکریپت ( شامل همه مرورگرهای مدرن و node.js) تابعی به نام <code>console.log</code> را فراهم می کنند که آرگومان‌های ورودیش را در جایی به صورت متنی نشان می دهند. در مرورگرها، این خروجی در کنسول جاوااسکریپت  قرار می گیرد. کنسول بخشی از مرورگر است که به صورت پیش فرض مخفی است،‌ اما در بیشتر مرورگرها با فشار دادن کلید F12 یا در مک با <span class="keyname">command</span>-<span class="keyname">option</span>-I در دسترس خواهد بود. اگر این کلیدهای میانبر کار نکرد، از طریق منوی مرورگر به دنبال  “developer tools” و شبیه آن بگردید.</p>

<p>زمانی که مثال‌های اینجا(یا کدهای خودتان) را در صفحات این کتاب اجرا می کنید، خروجی تابع <code>console.log</code>، به جای نمایش در کنسول جاوااسکریپت مرورگر، بعد از خود مثال نشان داده خواهد شد.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_TuaqUrwlKB" href="#c_TuaqUrwlKB" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">x</span> <span class="cm-operator">=</span> <span class="cm-number">30</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;the value of x is&quot;</span>, <span class="cm-variable">x</span>);
<span class="cm-comment">// → the value of x is 30</span></pre>

<p>اگرچه در نام متغیرها نمی توان از کاراکتر نقطه استفاده کرد، <code>console.log</code> نقطه دارد. علت آن این است که  <code>console.log</code> یک انتساب (متغیر) ساده نیست. در واقع عبارتی است که خصیصه‌ی <code>log</code> را از مقداری که در متغیر <code>console</code> نگه داری شده است بر می گرداند. در <a href="04_data.html#properties">فصل 4</a>، با مفهوم آن به طور دقیق آشنا خواهیم شد.</p>

<h2 id="return_values"><a class="h_ident" id="h_uNjQM10JgQ" href="#h_uNjQM10JgQ" tabindex="-1" role="presentation"></a>مقادیر بازگشتی</h2>

<p>نمایش یک پنجره تعاملی یا نوشتن متن در صفحه‌ی نمایش یک <em>اثر جانبی</em> می باشد. خیلی از توابع به خاطر اثر جانبی ای که تولید می کنند کاربرد دارند. توابع همچنین می توانند مقدار تولید کنند و در این صورت نیازی به اثر جانبی ندارند تا در برنامه کاربرد داشته باشند. به عنوان مثال، تابع <code>Math.max</code> به تعداد دلخواه آرگومان عددی می گیرد و بزرگترین آن ها را برمی گرداند.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_PEuTYZX6NI" href="#c_PEuTYZX6NI" tabindex="-1" role="presentation"></a><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">Math</span>.<span class="cm-property">max</span>(<span class="cm-number">2</span>, <span class="cm-number">4</span>));
<span class="cm-comment">// → 4</span></pre>

<p>زمانی که یک تابع مقداری را تولید می کند، گفته می شود که آن مقدار را <em>برگردانده</em> است. در جاوااسکریپت هرچیزی که مقداری را تولید می کند یک عبارت است که به این معناست که می توان فراخوانی توابع را در عبارت‌های بزرگ‌تر صورت داد. در اینجا فراخوانی <code>Math.min</code> که عکس تابع <code>Math.max</code> می باشد، به عنوان بخشی از یک عبارت جمع حسابی استفاده شده است:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_V4eUUr1Irj" href="#c_V4eUUr1Irj" tabindex="-1" role="presentation"></a><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">Math</span>.<span class="cm-property">min</span>(<span class="cm-number">2</span>, <span class="cm-number">4</span>) <span class="cm-operator">+</span> <span class="cm-number">100</span>);
<span class="cm-comment">// → 102</span></pre>

<p><a href="03_functions.html">در فصل بعد</a> توضیح می دهیم که چگونه توابع خود را بنویسید.</p>

<h2><a class="h_ident" id="h_6k9HePMYQh" href="#h_6k9HePMYQh" tabindex="-1" role="presentation"></a>جریان کنترل</h2>

<p>زمانی که برنامه شما بیش از یک دستور دارد، دستورها شبیه به خواندن یک داستان از بالا به پایین اجرا می شوند. به عنوان مثال، این برنامه دو دستور دارد. اولین دستور از کاربر درخواست می کند که عددی را وارد نماید و دومی که پس از آن اجرا می شود، مربع عدد وارد شده را نشان می دهد.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_6hF1Rg3sJ/" href="#c_6hF1Rg3sJ/" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">theNumber</span> <span class="cm-operator">=</span> <span class="cm-variable">Number</span>(<span class="cm-variable">prompt</span>(<span class="cm-string">&quot;Pick a number&quot;</span>));
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;Your number is the square root of &quot;</span> <span class="cm-operator">+</span>
            <span class="cm-variable">theNumber</span> <span class="cm-operator">*</span> <span class="cm-variable">theNumber</span>);</pre>

<p>تابع <code>Number</code> مقدار ورودی اش را به عدد تبدیل می کند. ما به این تبدیل نیاز داریم چرا که نتیجه تابع <code>prompt</code> از جنس رشته است و ما به دنبال عدد هستیم. توابع مشابهی به نام <code>String</code> و <code>Boolean</code> وجود دارد که مقادیر را به نوع خودشان تبدیل می کنند.</p>

<p>در اینجا شمایی ابتدایی از چگونگی جریان کنترل  خطی مستقیم نمایش داده شده است.</p><figure><img src="img/controlflow-straight.svg" alt="Trivial control flow"></figure>

<h2><a class="h_ident" id="h_XLEmqHMDC1" href="#h_XLEmqHMDC1" tabindex="-1" role="presentation"></a>اجرای شرطی</h2>

<p>همه‌ی برنامه‌ها از جنس خطی و مستقیم نیستند. مثلا ممکن است بخواهیم یک راه دیگر هم در برنامه در نظر بگیریم که برنامه با توجه به شرایطی که در دست دارد راه مناسب را انتخاب کند. به این کار <em>اجرای شرطی</em> می گویند.</p><figure><img src="img/controlflow-if.svg" alt="Conditional control flow"></figure>

<p>در جاوااسکریپت اجرای شرطی را با کلمه کلیدی <code>if</code> پیاده سازی می کنند. در یک مورد ساده، ما قصد داریم که قطعه کدی فقط در صورتی اجرا شود که شرط خاصی برقرار باشد. به عنوان نمونه، در برنامه‌ی قبل، ممکن است بخواهیم که مربع ورودی را تنها زمانی نشان دهیم که ورودی از جنس عدد باشد.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_D0zJWB8mO1" href="#c_D0zJWB8mO1" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">theNumber</span> <span class="cm-operator">=</span> <span class="cm-variable">Number</span>(<span class="cm-variable">prompt</span>(<span class="cm-string">&quot;Pick a number&quot;</span>));
<span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-variable">Number</span>.<span class="cm-property">isNaN</span>(<span class="cm-variable">theNumber</span>)) {
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;Your number is the square root of &quot;</span> <span class="cm-operator">+</span>
              <span class="cm-variable">theNumber</span> <span class="cm-operator">*</span> <span class="cm-variable">theNumber</span>);
}</pre>

<p><a class="p_ident" id="p_q5pBj5KOXK" href="#p_q5pBj5KOXK" tabindex="-1" role="presentation"></a>با این تغییر، اگر رشته‌ی “parrot” را وارد کنید، هیچ چیز به عنوان خروجی نشان داده نخواهد شد.</p>

<p>کلمه کلیدی <code>if</code> براساس مقدار یک عبارت بولی، دستوری را اجرا یا از آن صرف نظر می کند. آین عبارت بولی که مبنای تصمیم گیری است درست بعد از کلمه کلیدی بین پرانتز نوشته می شود و در ادامه عبارتی که باید اجرا شود می آید.</p>

<p>تابع <code>Number.isNaN</code> یک تابع استاندارد جاوااسکریپت است که زمانی مقدار <code>true</code> را برمی گرداند که آرگومان ورودی آن از نوع <code>NaN</code> باشد. تابع <code>Number</code> منجر به تولید <code>NaN</code> خواهد شد اگر رشته‌ای به آن بدهید که نمی تواند بیانگر یک عدد معتبر باشد. بنابراین، معنای عبارت شرطی این‌گونه می شود: “تا زمانی که <code>theNumber</code> از جنس عدد نیست، فلان کار رو انجام بده”.</p>

<p>در این مثال دستوری که در خط بعد از <code>if</code>  قرار دارد توسط با کروشه‌های مجعد محصور شده است (<code>{</code> و <code>}</code>). از کروشه ها می تواند برای گروه بندی دستورات متعدد به عنوان یک دستور استفاده کرد که به آن <em>بلاک</em> گفته می شود. در مثال فوق می توانستید که کروشه‌ها را حذف کنید به این علت که فقط یک دستور داشتید اما برای اجتناب از سردرگمی فکر کردن به زمان گذاشتن یا نگذاشتن کروشه‌ها، بیشتر برنامه نویسان جاوااسکریپت از کروشه‌ها در مواردی شبیه این هم استفاده می کنند. ما هم در این کتاب از همین عرف استفاده می کنیم مگر بعضی اوقات که قصد داریم  کلا دستور در یک خط باشد.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_/Ndk5rqq2Z" href="#c_/Ndk5rqq2Z" tabindex="-1" role="presentation"></a><span class="cm-keyword">if</span> (<span class="cm-number">1</span> <span class="cm-operator">+</span> <span class="cm-number">1</span> <span class="cm-operator">==</span> <span class="cm-number">2</span>) <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;It's true&quot;</span>);
<span class="cm-comment">// → It's true</span></pre>

<p><a class="p_ident" id="p_X/5TO4MPCK" href="#p_X/5TO4MPCK" tabindex="-1" role="presentation"></a>همیشه اینطور نیست که برنامه در صورت true بودن شرط بایستی اجرا شود، بلکه گاهی عکس این مطلب اتفاق می افتد. این مسیر جانبی در دیاگرام با پیکان دوم نمایش داده شده است. استفاده از کلمه کلیدی <code>else</code> به همراه <code>if</code> این امکان را به ما می دهد دو مسیر اجرایی متفاوت تعریف کنیم.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_kLpqX2fnaC" href="#c_kLpqX2fnaC" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">theNumber</span> <span class="cm-operator">=</span> <span class="cm-variable">Number</span>(<span class="cm-variable">prompt</span>(<span class="cm-string">&quot;Pick a number&quot;</span>));
<span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-variable">Number</span>.<span class="cm-property">isNaN</span>(<span class="cm-variable">theNumber</span>)) {
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;Your number is the square root of &quot;</span> <span class="cm-operator">+</span>
              <span class="cm-variable">theNumber</span> <span class="cm-operator">*</span> <span class="cm-variable">theNumber</span>);
} <span class="cm-keyword">else</span> {
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;Hey. Why didn't you give me a number?&quot;</span>);
}</pre>

<p>اگر بیش از دو مسیر برای انتخاب داشتیم، می توان از چندین جفت <code>if</code>/<code>else</code> که با هم زنجیر شده اند استفاده کرد. به مثال توجه کنید:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_QrvIive0zT" href="#c_QrvIive0zT" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">num</span> <span class="cm-operator">=</span> <span class="cm-variable">Number</span>(<span class="cm-variable">prompt</span>(<span class="cm-string">&quot;Pick a number&quot;</span>));

<span class="cm-keyword">if</span> (<span class="cm-variable">num</span> <span class="cm-operator">&lt;</span> <span class="cm-number">10</span>) {
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;Small&quot;</span>);
} <span class="cm-keyword">else</span> <span class="cm-keyword">if</span> (<span class="cm-variable">num</span> <span class="cm-operator">&lt;</span> <span class="cm-number">100</span>) {
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;Medium&quot;</span>);
} <span class="cm-keyword">else</span> {
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;Large&quot;</span>);
}</pre>

<p><a class="p_ident" id="p_7/D3JM10se" href="#p_7/D3JM10se" tabindex="-1" role="presentation"></a>برنامه در ابتدا بررسی می کند که آیا <code>num</code> از 10 مقدارش کم تر است یا خیر. اگر کمتر بود، به سراغ آن شاخه از کد می رود و <code>&quot;Small&quot;</code> را نشان می دهد و کار تمام است. اگر شرط دوم (<code>&lt; 100</code>) برقرار بود، به این معناست که عدد بین 10 و 100 است که در این صورت <code>&quot;Medium&quot;</code> نمایش داده می شود. اگر هیچ کدام نبود،  دومین و آخرین <code>else</code> انتخاب می شود.</p>

<p>فلوچارت برنامه بالا چیزی شبیه عکس زیر خواهد بود.</p><figure><img src="img/controlflow-nested-if.svg" alt="Nested if control flow"></figure>

<h2 id="loops"><a class="h_ident" id="h_5CGy7baTQN" href="#h_5CGy7baTQN" tabindex="-1" role="presentation"></a>while و do loops</h2>

<p><a class="p_ident" id="p_pWuGD4KS59" href="#p_pWuGD4KS59" tabindex="-1" role="presentation"></a>برنامه ای را در نظر بگیرید که همه‌ی اعداد زوج بین 0 و 12 را چاپ می کند. یکی از راه های نوشتن این برنامه به شکل زیر است:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_NiH5lbw9eg" href="#c_NiH5lbw9eg" tabindex="-1" role="presentation"></a><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">0</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">2</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">4</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">6</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">8</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">10</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-number">12</span>);</pre>

<p><a class="p_ident" id="p_Hfgj5IIznr" href="#p_Hfgj5IIznr" tabindex="-1" role="presentation"></a>این برنامه کار خواهد کرد اما ایده‌ی اینکه اصلا برنامه‌ای نوشته می شود این است که چیزی <em>کمتر</em> کار ببرد نه بیشتر. اگر ما بخواهیم تمام اعداد زوج کوچکتر از ۱,۰۰۰ را جاپ کنیم، روش قبلی دیگر کاربردی نیست. آنچه ما می خواهیم روشی است که بتوان با آن کدهایی را تکرار کرد. این شکل جریان کنترل را <em>loop</em> یا <em>حلقه</em> می نامند.</p><figure><img src="img/controlflow-loop.svg" alt="Loop control flow"></figure>

<p>جریان کنترل حلقه‌ای به ما این امکان را می دهد که به نقطه‌ای در برنامه برگشته، جایی که قبلا بوده ایم و آن را در حالت فعلی برنامه تکرار کنیم. اگر این امکان را با یک متغیر شمارشگر ترکیب کنیم، می توانیم کاری شبیه زیر را انجام دهیم:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_jMUfZIZChZ" href="#c_jMUfZIZChZ" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">number</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;
<span class="cm-keyword">while</span> (<span class="cm-variable">number</span> <span class="cm-operator">&lt;=</span> <span class="cm-number">12</span>) {
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">number</span>);
  <span class="cm-variable">number</span> <span class="cm-operator">=</span> <span class="cm-variable">number</span> <span class="cm-operator">+</span> <span class="cm-number">2</span>;
}
<span class="cm-comment">// → 0</span>
<span class="cm-comment">// → 2</span>
<span class="cm-comment">//   … etcetera</span></pre>

<p><a class="p_ident" id="p_G/WHQ6jJPa" href="#p_G/WHQ6jJPa" tabindex="-1" role="presentation"></a>دستوری که با کلمه کلیدی <code>while</code> شروع شود، یک حلقه ایجاد می کند. ساختار <code>while</code> بسیار شبیه به <code>if</code> است. کلمه <code>while</code> در ابتدا،‌ بعد از آن یک جفت پرانتز که در داخلش یک عبارت قرار می گیرد و بعد دستور نوشته می شود. حلقه while، دستور مورد نظر را اجرا به صورت مداوم اجرا می کند البته تا زمانی که عبارت داخل پرانتز true ارزیابی شود. مقدار داخل پرانتز به نوع داده بولی تبدیل می شود و بعد ارزیابی می شود.</p>

<p><a class="p_ident" id="p_Ph3DtL+xPq" href="#p_Ph3DtL+xPq" tabindex="-1" role="presentation"></a>متغیر <code>number</code> در اینجا نشان می دهد که چگونه می توان از یک متغیر برای نگه‌داری پیش رفت یک برنامه استفاده کرد. هر بار که حلقه تکرار می شود، مقدار <code>number</code>  به اندازه‌ی 2 واحد از قبل بیشتر می شود. در ابتدای هر تکرار این عدد با عدد 12 مقایسه شده تا مشخص شود که آیا به پایان اجرای برنامه رسیده ایم یا خیر.</p>

<p><a class="p_ident" id="p_TDuJq/QshE" href="#p_TDuJq/QshE" tabindex="-1" role="presentation"></a>به عنوان یک مثال کاربردی، اکنون می توانیم برنامه ای بنویسیم که مقدار 2<sup>10</sup> را محاسبه و نمایش دهد. ما از دو متغیر استفاده خواهیم کرد: یکی برای نگه داشتن نتیجه محاسبه و دیگری برای شمردن تعداد دفعاتی که ما نتیجه را در 2 ضرب کرده ایم. حلقه بررسی می کند که آیا متغیر دوم به 10 رسیده است که در غیر این صورت هر دوی متغیرها را به روز رسانی می کند.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_9AxUm9n4M9" href="#c_9AxUm9n4M9" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">result</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;
<span class="cm-keyword">let</span> <span class="cm-def">counter</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;
<span class="cm-keyword">while</span> (<span class="cm-variable">counter</span> <span class="cm-operator">&lt;</span> <span class="cm-number">10</span>) {
  <span class="cm-variable">result</span> <span class="cm-operator">=</span> <span class="cm-variable">result</span> <span class="cm-operator">*</span> <span class="cm-number">2</span>;
  <span class="cm-variable">counter</span> <span class="cm-operator">=</span> <span class="cm-variable">counter</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>;
}
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">result</span>);
<span class="cm-comment">// → 1024</span></pre>

<p><a class="p_ident" id="p_9GzPAv64Rj" href="#p_9GzPAv64Rj" tabindex="-1" role="presentation"></a>متغیر شمارنده counter همچنین می توانست از عدد <code>1</code> شروع شود و با شرط <bdo><code>&lt;= 10</code></bdo> بررسی شود، به دلایلی که در <a href="04_data.html#array_indexing">فصل 4</a> روشن خواهد شد، بهتر است که عادت کنیم تا از 0 بشماریم.</p>

<p>حلقه <code>do</code> یک ساختار کنترلی است شبیه به حلقه‌ی <code>while</code> است. تفاوت فقط در یک چیز است: یک حلقه‌ی <code>do</code> حداقل بدنه‌اش را یک بار اجرا می کند و بررسی شرط توقف را بعد از اولین اجرا انجام می دهد. برای نشان دادن این ویژگی، قسمت بررسی شرط، بعد از بدنه‌ی حلقه نوشته می شود:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_Rdlc+hwgyM" href="#c_Rdlc+hwgyM" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">yourName</span>;
<span class="cm-keyword">do</span> {
  <span class="cm-variable">yourName</span> <span class="cm-operator">=</span> <span class="cm-variable">prompt</span>(<span class="cm-string">&quot;Who are you?&quot;</span>);
} <span class="cm-keyword">while</span> (<span class="cm-operator">!</span><span class="cm-variable">yourName</span>);
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">yourName</span>);</pre>

<p>این برنامه شما را وادار خواهد کرد که حتما نامی را وارد نمایید. این درخواست آن قدر پرسیده خواهد شد تا بالاخره چیزی غیر از رشته‌ی خالی را دریافت کند. افزودن عملگر <code>!</code> باعث می شود که یک مقدار قبل از منفی شدن به نوع بولی تبدیل شود و می دانیم که تمام رشته‌ها به جز <code>&quot;&quot;</code> به <code>true</code> تبدیل می شوند. این بدین معناست که حلقه تا زمانی که نامی غیر تهی وارد نکنید اجرا  می شود.</p>

<h2><a class="h_ident" id="h_edGlbbAaXE" href="#h_edGlbbAaXE" tabindex="-1" role="presentation"></a>ایجاد تورفتگی در کدها</h2>

<p>همان طور که در مثال‌ها مشاهده کرده اید، در ابتدای دستوراتی که به عنوان بخشی از دستورات بزرگتر محسوب می شوند فضاهای خالی قرار داده ام. در جاوااسکریپت، این فضاها ضروری نیستند – کامپیوتر برنامه را بدون آن ها به خوبی قبول می کند. در واقع، حتی شکستن خطوط در برنامه ها اختیاری است. شما می توانید اگر دوست داشتید برنامه ای را در یک خط بلند بنویسید.</p>

<p>نقش تورفتگی‌ها در درون بلاک‌ها برای نمایان سازی ساختار کد است. در کدنویسی گاهی بلاک‌های جدید درون بلاک‌های دیگر قرار می گیرند و پیدا کردن پایان و شروع بلاک ها میتواند سخت شود. با ایجاد تورفتگی مناسب، شکل ظاهری برنامه خود بیانگر ساختار بلاک‌های درون آن خواهد بود.  من ترجیح می دهد که از دو فاصله برای هر بلاک باز استفاده کنم اما سلیقه‌ها متفاوت است بعضی مردم دوست دارند که از چهار فاصله استفاده کنند و بعضی کاراکتر تب را می پسندند. اما مساله مهم این است که برای هر بلاک جدید از میزان تورفتگی یکسانی استفاده کنیم.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_Dmd8L2VV0d" href="#c_Dmd8L2VV0d" tabindex="-1" role="presentation"></a><span class="cm-keyword">if</span> (<span class="cm-atom">false</span> <span class="cm-operator">!=</span> <span class="cm-atom">true</span>) {
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;That makes sense.&quot;</span>);
  <span class="cm-keyword">if</span> (<span class="cm-number">1</span> <span class="cm-operator">&lt;</span> <span class="cm-number">2</span>) {
    <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;No surprise there.&quot;</span>);
  }
}</pre>

<p>اکثر برنامه های ویرایشگر کد  (مثل ویرایشگر کد این کتاب)، تو رفتگی ها را به صورت خودکار و با اندازه مناسب ایجاد می کنند.</p>

<h2><a class="h_ident" id="h_Ha2/s82gQ+" href="#h_Ha2/s82gQ+" tabindex="-1" role="presentation"></a>حلقه‌های for</h2>

<p>خیلی از حلقه‌ها از الگویی که در مثال‌های <code>while</code> دیدیم پیروی می کنند. در ابتدا یک متغیر “شمارنده” ایجاد می شود تا پیشرفت حلقه را نگه‌داری کند. سپس حلقه‌ی <code>while</code> خواهد آمد که عبارت تست آن معمولا مقدار شمارنده را بررسی می کند که به مرز خاصی رسیده است باشد. در پایان بدنه‌ی حلقه، شمارنده به روز رسانی می شود تا پیشرفت برنامه پیگیری شود.</p>

<p>چون این الگو بسیار رایج است، جاوااسکریپت و زبان های مشابه‌‌ آن روش کمی کوتاهتر و جامع تری را ارائه می دهند، حلقه <code>for</code>.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_bv526eAQ8J" href="#c_bv526eAQ8J" tabindex="-1" role="presentation"></a><span class="cm-keyword">for</span> (<span class="cm-keyword">let</span> <span class="cm-def">number</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">number</span> <span class="cm-operator">&lt;=</span> <span class="cm-number">12</span>; <span class="cm-variable">number</span> <span class="cm-operator">=</span> <span class="cm-variable">number</span> <span class="cm-operator">+</span> <span class="cm-number">2</span>) {
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">number</span>);
}
<span class="cm-comment">// → 0</span>
<span class="cm-comment">// → 2</span>
<span class="cm-comment">//   … etcetera</span></pre>

<p>برنامه‌ی بالا دقیقا معادل برنامه‌ی چاپ اعداد زوج <a href="02_program_structure.html#loops">پیشین</a> است. تنها تفاوت این است که تمامی دستوراتی که به “وضعیت” برنامه ربط دارند، اکنون در یک گروه بعد از <code>for</code> قرار گرفته اند.</p>

<p>پرانتزهای بعد از کلمه کلیدی <code>for</code> باید حتما دارای دو سمی کالن (نقطه ویرگول) باشند. قسمت قبل از نقطه‌ویرگول اول حلقه را <em>مقداردهی اولیه</em> می کند، که این کار معمولا با تعریف یک متغیر انجام می شود. قسمت دوم عبارتی است که <em>بررسی</em> می کند که تا کی حلقه بایستی ادامه پیدا کند. بخش نهایی  وضعیت حلقه را بعد از هربار تکرار <em>به روز رسانی</em> می کند. در بیشتر موارد، این روش از ساختار <code>while</code> کوتاهتر و سرراست تر است.</p>

<p><a class="p_ident" id="p_E13r1INwJr" href="#p_E13r1INwJr" tabindex="-1" role="presentation"></a>در اینجا کدی را مشاهده می کنید که 2<sup>10</sup> را محاسبه می کند البته با <code>for</code> به جای <code>while</code>:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_BPd5Bl+eyt" href="#c_BPd5Bl+eyt" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">result</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;
<span class="cm-keyword">for</span> (<span class="cm-keyword">let</span> <span class="cm-def">counter</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">counter</span> <span class="cm-operator">&lt;</span> <span class="cm-number">10</span>; <span class="cm-variable">counter</span> <span class="cm-operator">=</span> <span class="cm-variable">counter</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>) {
  <span class="cm-variable">result</span> <span class="cm-operator">=</span> <span class="cm-variable">result</span> <span class="cm-operator">*</span> <span class="cm-number">2</span>;
}
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">result</span>);
<span class="cm-comment">// → 1024</span></pre>

<h2><a class="h_ident" id="h_8u4FhNC0aK" href="#h_8u4FhNC0aK" tabindex="-1" role="presentation"></a>شکستن حلقه و خروج از آن</h2>

<p>تنها راه به پایان رسیدن یک حلقه فقط تولید مقدار <code>false</code> توسط بخش شرط حلقه نیست. دستور خاصی به نام <code>break</code> وجود دارد که در صورت استفاده باعث می شود که بلافاصله برنامه از حلقه‌ی محصورش بیرون بیاید.</p>

<p><a class="p_ident" id="p_rD5dRfPR87" href="#p_rD5dRfPR87" tabindex="-1" role="presentation"></a>برنامه‌ی زیر چگونگی استفاده از <code>break</code> را نمایش می دهد. این برنامه اولین عددی که بزرگتر و مساوی 20 است و همچنین قابل تقسیم بر 7 است را می یابد.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_G/xQzCJ2hv" href="#c_G/xQzCJ2hv" tabindex="-1" role="presentation"></a><span class="cm-keyword">for</span> (<span class="cm-keyword">let</span> <span class="cm-def">current</span> <span class="cm-operator">=</span> <span class="cm-number">20</span>; ; <span class="cm-variable">current</span> <span class="cm-operator">=</span> <span class="cm-variable">current</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>) {
  <span class="cm-keyword">if</span> (<span class="cm-variable">current</span> <span class="cm-operator">%</span> <span class="cm-number">7</span> <span class="cm-operator">==</span> <span class="cm-number">0</span>) {
    <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">current</span>);
    <span class="cm-keyword">break</span>;
  }
}
<span class="cm-comment">// → 21</span></pre>

<p>با استفاده از عملگر باقی مانده (<code>%</code>) می توان به راحتی بخش پذیری یک عدد بر عددی دیگر را امتحان کرد. اگر بخش پذیر باشد، باقی مانده تقسیمشان برابر صفر خواهد بود.</p>

<p>ساختار <code>for</code> در این مثال، بخشی که پایان حلقه را بررسی می کند را ندارد. این بدین معناست که حلقه هرگز متوقف نخواهد شد مگر اینکه دستور <code>break</code> در درون آن اجرا شود.</p>

<p>اگر آن دستور <code>break</code> را حذف کنید یا به طور اتفاقی  شرطی را بنویسید که همیشه مقدار <code>true</code> را تولید نماید، برنامه شما در یک <em>حلقه‌ی بی‌نهایت</em> گیر خواهد افتاد. برنامه‌ای که در حلقه بی نهایت بیفتد، اجرای آن پایان نمی یابد، که معمولا چیز بدی است.</p>

<p>اگر در مثال‌های موجود در صفحات آنلاین کتاب یک حلقه‌ی بی‌نهایت ایجاد کنید، پس از چند ثانیه، معمولا از شما پرسیده می شود که قصد ادامه اجرای اسکریپت را دارید یا خیر. اگر متوقف نشود، مجبور خواهید شد تا برگه‌ای که در آن کار می کنید را ببندید، یا در بعضی مرورگرها، کل مرورگر را ببندید.</p>

<p>کلمه‌ی کلیدی <code>continue</code> همانند <code>break</code> روی پیشروی حلقه تاثیر می گذارد. زمانی که <code>continue</code> در داخل بدنه حلقه اجرا شود، کنترل برنامه از بدنه خارج شده و به تکرار بعدی منتقل شده و ادامه می یابد.</p>

<h2><a class="h_ident" id="h_XT/Oomb2F7" href="#h_XT/Oomb2F7" tabindex="-1" role="presentation"></a>روش کوتاه به روزرسانی متغیرها</h2>

<p>به طور خاص در حلقه‌ها، معمولا برنامه نیازمند به روز رسانی یک متغیر بر اساس مقدار قبلی آن است.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_aegdj8V5XM" href="#c_aegdj8V5XM" tabindex="-1" role="presentation"></a><span class="cm-variable">counter</span> <span class="cm-operator">=</span> <span class="cm-variable">counter</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>;</pre>

<p>جاوااسکریپت راه میانبری برای این کار دارد:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_/XU8FyoU4+" href="#c_/XU8FyoU4+" tabindex="-1" role="presentation"></a><span class="cm-variable">counter</span> <span class="cm-operator">+=</span> <span class="cm-number">1</span>;</pre>

<p><a class="p_ident" id="p_7p844Ya6Bv" href="#p_7p844Ya6Bv" tabindex="-1" role="presentation"></a>میانبرهای مشاهبی برای دیگر عملگرها وجود دارد مثل <bdo><code>result *= 2</code></bdo> که مقدار متغیر <code>result</code> را دوبرابر می کند یا <bdo><code>counter -= 1</code></bdo> که مقدار count را کاهش می دهد.</p>

<p>این شیوه به ما این امکان را می دهد که مثال شمارش اعداد را کمی کوتاه تر بنویسیسم.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_h8HkwMM+IM" href="#c_h8HkwMM+IM" tabindex="-1" role="presentation"></a><span class="cm-keyword">for</span> (<span class="cm-keyword">let</span> <span class="cm-def">number</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">number</span> <span class="cm-operator">&lt;=</span> <span class="cm-number">12</span>; <span class="cm-variable">number</span> <span class="cm-operator">+=</span> <span class="cm-number">2</span>) {
  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">number</span>);
}</pre>

<p>برای <bdo><code>counter += 1</code></bdo> و <bdo><code>counter -= 1</code></bdo> معادل‌های کوتاهتری هم وجود دارد: <bdo><code>counter++</code></bdo> و<bdo><code>counter--</code></bdo>.</p>

<h2><a class="h_ident" id="h_Gq21GFKd5H" href="#h_Gq21GFKd5H" tabindex="-1" role="presentation"></a>تصمیم گیری بر اساس یک مقدار به کمک switch</h2>

<p>کدهایی شبیه کد زیر بسیار رایج هستند:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_Q96dt8DAU9" href="#c_Q96dt8DAU9" tabindex="-1" role="presentation"></a><span class="cm-keyword">if</span> (<span class="cm-variable">x</span> <span class="cm-operator">==</span> <span class="cm-string">&quot;value1&quot;</span>) <span class="cm-variable">action1</span>();
<span class="cm-keyword">else</span> <span class="cm-keyword">if</span> (<span class="cm-variable">x</span> <span class="cm-operator">==</span> <span class="cm-string">&quot;value2&quot;</span>) <span class="cm-variable">action2</span>();
<span class="cm-keyword">else</span> <span class="cm-keyword">if</span> (<span class="cm-variable">x</span> <span class="cm-operator">==</span> <span class="cm-string">&quot;value3&quot;</span>) <span class="cm-variable">action3</span>();
<span class="cm-keyword">else</span> <span class="cm-variable">defaultAction</span>();</pre>

<p><a class="p_ident" id="p_RYZHlcmjhI" href="#p_RYZHlcmjhI" tabindex="-1" role="presentation"></a>ساختاری به نام <code>switch</code> وجود دارد که در مواردی شبیه بالا بسیار خوانا و سرراست تر است. متاسفانه، شیوه‌ی نوشتاری ای که جاوااسکریپت برای این ساختار استفاده می کند ( که از زبان‌های شبیه C/Java گرفته شده است) کمی بدقواره است – زنجیره‌ای از دستورات <code>if</code> ممکن است زیباتر به نظر بیاید. به مثال توجه فرمایید:</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_B7WAWZEgcU" href="#c_B7WAWZEgcU" tabindex="-1" role="presentation"></a><span class="cm-keyword">switch</span> (<span class="cm-variable">prompt</span>(<span class="cm-string">&quot;What is the weather like?&quot;</span>)) {
  <span class="cm-keyword">case</span> <span class="cm-string">&quot;rainy&quot;</span>:
    <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;Remember to bring an umbrella.&quot;</span>);
    <span class="cm-keyword">break</span>;
  <span class="cm-keyword">case</span> <span class="cm-string">&quot;sunny&quot;</span>:
    <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;Dress lightly.&quot;</span>);
  <span class="cm-keyword">case</span> <span class="cm-string">&quot;cloudy&quot;</span>:
    <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;Go outside.&quot;</span>);
    <span class="cm-keyword">break</span>;
  <span class="cm-keyword">default</span>:
    <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">&quot;Unknown weather type!&quot;</span>);
    <span class="cm-keyword">break</span>;
}</pre>

<p><a class="p_ident" id="p_bJZM6yHw0k" href="#p_bJZM6yHw0k" tabindex="-1" role="presentation"></a>می توانید هر تعداد دلخواه برچسب <code>case</code> درون یک بلاک <code>switch</code> قرار دهید. برنامه با توجه به مقداری که به <code>switch</code> داده می شود برچسب متناظر را انتخاب کرده و به آن قسمت منتقل می شود یا اگر موردی پیدا نشود قسمت <code>default</code> اجرا می شود. پس از انتخاب برچسب، دستورات آن اجرا می شوند حتی دستوراتی که زیر برچسب دیگری قرار دارند تا زمانیکه برنامه به دستور <code>break</code> برسد. در بعضی موارد، مانند مورد (case) <code>&quot;sunny&quot;</code> در مثال بالا، این امکان را می توان برای به اشتراک گذاری کدهایی بین case ها استفاده کرد ( برنامه رفتن به بیرون شهر را برای هر دو هوای ابری و آفتابی پیشنهاد می دهد). اما حواستان باشد: خیلی ساده می توان <code>break</code> را فراموش کرد که باعث اجرای کدهایی خواهد شد که شما نمی خواهید.</p>

<h2><a class="h_ident" id="h_+zL/tN/VFj" href="#h_+zL/tN/VFj" tabindex="-1" role="presentation"></a>استفاده از حروف بزرگ</h2>

<p>در نام متغیرها  نمی توان از فاصله (فضای خالی) استفاده کرد اما اغلب استفاده از چند واژه برای شرح محتوای متغیر مفید است. اینکه از چه شیوه‌ای برای نوشتن نام متغیرهای چند کلمه ای استفاده کنید بستگی به سلیقه شما دارد:</p>

<pre class="snippet cm-s-default" data-language="null" ><a class="c_ident" id="c_HtUFwP9TF9" href="#c_HtUFwP9TF9" tabindex="-1" role="presentation"></a>fuzzylittleturtle
fuzzy_little_turtle
FuzzyLittleTurtle
fuzzyLittleTurtle</pre>

<p><a class="p_ident" id="p_ZLxok7w82J" href="#p_ZLxok7w82J" tabindex="-1" role="presentation"></a>خواند سبک اول می تواند سخت باشد. شخصا، از روش استفاده از زیرخط (underscore) را می پسندم اگرچه تایپ آن کمی مشکل تر است. توابع استاندارد جاوااسکریپت و بیشتر برنامه نویسان جاوااسکریپت از روش اخر استفاده می کنند – به جز کلمه‌ی اول دیگر کلمات را با حروف بزرگ شروع می کنند. می توان به راحتی به یکی از این روش ها عادت کرد. کدنویسی با سبک‌های نامگذاری متفاوت می تواند مشکلاتی در خوانایی کد ایجاد کند، بنابراین ما فقط از یک سبک و آن هم سبک آخر استفاده خواهیم کرد.</p>

<p>در موارد کمی، مثل تابع <code>Number</code> حرف اول متغیر به صورت بزرگ نوشته شده است. این برای نشانه‌گذاری این تابع به عنوان یک تابع سازنده است. اینکه یک تابع سازنده چیست در <a href="06_object.html#constructors">فصل 6</a> روشن خواهد شد. فعلا نکته مهم این است که با دیدن این نبود یکپارچگی در این گونه موارد خودتان را ناراحت نکنید.</p>

<h2><a class="h_ident" id="h_VbvUuahfUk" href="#h_VbvUuahfUk" tabindex="-1" role="presentation"></a>توضیحات</h2>

<p>اغلب اوقات، کدهای اصلی برنامه همه‌ی آنچه قصد دارید تا برنامه به کسانی که قصد نگاه کردن و فهمیدن کدها را دارند منتقل نمی کنند و یا به شکل پیچیده‌ای این کار را می کند که دیگران نمی توانند آن را درک کنند. یا ممکن است بخواهید تا توضیحات مرتبطی را به عنوان بخشی از برنامه بنویسید. می توانید از <em>توضیحات</em> برای این کار استفاده کنید.</p>

<p>یک توضیح، متنی است که بخشی از برنامه محسوب می شود اما کامپیوتر آن را نادیده می گیرد. جاوااسکریپت دو راه برای نوشتن توضیحات دارد. برای نوشتن توضیحات تک-خطی ، می توانید از دو کاراکتر اسلش (<code>//</code>) در ابتدای توضیح استفاده کنید.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_/8e+JeWltg" href="#c_/8e+JeWltg" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">accountBalance</span> <span class="cm-operator">=</span> <span class="cm-variable">calculateBalance</span>(<span class="cm-variable">account</span>);
<span class="cm-comment">// It's a green hollow where a river sings</span>
<span class="cm-variable">accountBalance</span>.<span class="cm-property">adjust</span>();
<span class="cm-comment">// Madly catching white tatters in the grass.</span>
<span class="cm-keyword">let</span> <span class="cm-def">report</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Report</span>();
<span class="cm-comment">// Where the sun on the proud mountain rings:</span>
<span class="cm-variable">addToReport</span>(<span class="cm-variable">accountBalance</span>, <span class="cm-variable">report</span>);
<span class="cm-comment">// It's a little valley, foaming like light in a glass.</span></pre>

<p>توضیحی که با <code>//</code> مشخص شده باشد فقط تا پایان همان خط در نظر گرفته می شود. متنی که بین <code>/*</code> و <code>*/</code> محصور شده باشد به طور کامل و بدون توجه به اینکه حاوی چند خط باشد، به عنوان توضیح در نظر گرفته می شود. این ویژگی برای افزودن بلاک‌های اطلاعات در باره‌ی یک فایل یا بخشی از برنامه استفاده می شود.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_mreOdwa/5Y" href="#c_mreOdwa/5Y" tabindex="-1" role="presentation"></a><span class="cm-comment">/*</span>
<span class="cm-comment">  I first found this number scrawled on the back of an old notebook.</span>
<span class="cm-comment">  Since then, it has often dropped by, showing up in phone numbers</span>
<span class="cm-comment">  and the serial numbers of products that I've bought. It obviously</span>
<span class="cm-comment">  likes me, so I've decided to keep it.</span>
<span class="cm-comment">*/</span>
<span class="cm-keyword">const</span> <span class="cm-def">myNumber</span> <span class="cm-operator">=</span> <span class="cm-number">11213</span>;</pre>

<h2><a class="h_ident" id="h_EzvDUHyjs2" href="#h_EzvDUHyjs2" tabindex="-1" role="presentation"></a>خلاصه</h2>

<p>اکنون شما می دانیک که یک برنامه از مجموعه ای از دستورات ساخته می شود، که خود آن‌ها نیز گاهی حاوی دستورات بیشتری هستند. دستورات حاوی عبارت‌ها هستند که خود این عبارت‌ها نیز می توانند از عبارت‌های کوتاهتری تشکیل شده باشند.</p>

<p>قرار دادن دستورات یکی پس از دیگری، برنامه ای را می سازد که از بالا به پایین به ترتیب اجرا می شود. می شود این ترتیب در جریان کنترل را با استفاده از دستورات شرطی ( <code>if</code>, <code>else</code> و <code>switch</code>) و حلقه‌ها (<code>while</code>, <code>do</code>, و <code>for</code>)  به هم زد.</p>

<p>متغیرها می توانند برای دسته بندی بخش‌هایی از داده ها تحت یک نام استفاده شوند. همچنین آن‌ها برای حفظ و پیگیری حالت فعلی در برنامه شما مفید هستند. محیط اجرایی مجموعه‌ای از متغیرهاست که قبلا تعریف شده اند. سیستم‌های جاوااسکریپت همیشه تعدادی متغیر استاندارد مفید را در محیط شما تعبیه می کنند.</p>

<p>توابع مقدارهایی ویژه هستند که بخشی از برنامه را در درون خود نگه داری می کنند. می توانید آن‌ها را با نوشتن <code>functionName(argument1, argument2)</code> فراخوانی کنید. این گونه فراخوانی کردن یک تابع یک نوع عبارت است که می تواند مقداری را هم تولید کند.</p>

<h2><a class="h_ident" id="h_ggOFdVwDCk" href="#h_ggOFdVwDCk" tabindex="-1" role="presentation"></a>تمرین‌ها</h2>

<p>آگر مطمئن نیستید که چگونه راه حل‌هایی که برای تمرین ها ارائه می دهید را آزمایش کنید، به <a href="00_intro.html">مقدمه</a> رجوع کنید.</p>

<p><a class="p_ident" id="p_ejmYnxbJ8x" href="#p_ejmYnxbJ8x" tabindex="-1" role="presentation"></a>هر تمرین با یک شرح مساله شروع می شود. آن را بخوانید و سعی کنید آن را حل کنید. اگر در حل مساله به مشکل برخورد کردید، به قسمت “راهنمایی کوچک” که در انتهای کتاب قرار گرفته است رجوع کنید. راه حل کامل برای تمرین‌ها در داخل این کتاب گنجانده نشده است،‌ اما می توانید آن ها را در  <a href="https://eloquentjavascript.net/code#2"><em>https://eloquentjavascript.net/code</em></a> بیابید. اگر واقعا می خواهید که از تمرین‌ها چیزی بیاموزید، فقط زمانی به سراغ راه حل ها بروید که مساله را حل نموده اید یا حداقل به اندازه کافی تلاش و زمان صرف حل آن کرده باشید که کمی احساس سردرد داشته باشید.</p>

<h3><a class="i_ident" id="i_sHMwjCOpSc" href="#i_sHMwjCOpSc" tabindex="-1" role="presentation"></a>حلقه و مثلث</h3>

<p>حلقه‌ای را پیاده سازی کنید که هفت بار تابع <code>console.log</code> را فراخوانی کرده و مثلث زیر را تولید کند:</p>

<pre class="snippet cm-s-default" data-language="null" ><a class="c_ident" id="c_iAdOqXrnTq" href="#c_iAdOqXrnTq" tabindex="-1" role="presentation"></a>#
##
###
####
#####
######
#######</pre>

<p>دانستن این نکته که طول یک رشته را می توان با گذاشتن <code>.length</code> در انتهای آن بدست آورد شاید به دردتان بخورد.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_qHvXAGuPvV" href="#c_qHvXAGuPvV" tabindex="-1" role="presentation"></a><span class="cm-keyword">let</span> <span class="cm-def">abc</span> <span class="cm-operator">=</span> <span class="cm-string">&quot;abc&quot;</span>;
<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">abc</span>.<span class="cm-property">length</span>);
<span class="cm-comment">// → 3</span></pre>

<p>بیشتر تمرین‌ها به همراه‌ کدی می آیند که می توانید برای حل تمرین آن را ویرایش کنید. به یاد داشته باشید که برای ویرایش باید روی بلاک کد کلیک کنید.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><a class="c_ident" id="c_HRKSrZS1tJ" href="#c_HRKSrZS1tJ" tabindex="-1" role="presentation"></a><span class="cm-comment">// Your code here.</span></pre>

<div class="solution"><div class="solution-text">

<p><a class="p_ident" id="p_jGwpEa81Ry" href="#p_jGwpEa81Ry" tabindex="-1" role="presentation"></a>می توانید با برنامه‌ای شروع کنید که اعداد 1 تا 7 را چاپ می کند، که با کمی دستکاری <a href="02_program_structure.html#loops">کد مثال چاپ اعداد زوج</a> که در این فصل آمد به دست می آید. جایی که حلقه‌ی <code>for</code> را معرفی کردیم.</p>

<p><a class="p_ident" id="p_HFDGhh3PP2" href="#p_HFDGhh3PP2" tabindex="-1" role="presentation"></a>اکنون به شباهت بین اعداد و رشته‌هایی که از کاراکتر ‍‍<code>#</code> تشکیل شده اند توجه کنید. می توانید با افزودن 1، از 1 به 2 برسید (<code>+= 1</code>). برای به دست آوردن <code>&quot;##&quot;</code> از <code>&quot;#&quot;</code>، می توانید یک کاراکتر به آن اضافه کنید (<code>+= &quot;#&quot;</code>). در این صورت، راه حل شما می تواند بسیار نزدیک به برنامه چاپ اعداد باشد.</p>

</div></div>

<h3><a class="i_ident" id="i_rebKE3gdjV" href="#i_rebKE3gdjV" tabindex="-1" role="presentation"></a>FizzBuzz</h3>

<p><a class="p_ident" id="p_8tGF7ShOTq" href="#p_8tGF7ShOTq" tabindex="-1" role="presentation"></a>برنامه ای بنویسید که با استفاده از <code>console.log</code> تمامی اعداد بین 1 و 100 را چاپ نماید با دو استثنا. برای اعدادی که بر 3 بخش پذیرند به جای عدد عبارت<code>&quot;Fizz&quot;</code>، و برای اعدادی که بر 5 بخش پذیرند (نه بر 3)، مقدار <code>&quot;Buzz&quot;</code> را چاپ نماید.</p>

<p><a class="p_ident" id="p_nr89B94h89" href="#p_nr89B94h89" tabindex="-1" role="presentation"></a>وقتی برنامه شما موارد بالا را به درستی انجام داد، آن را تغییر داده تا مقدار <code>&quot;FizzBuzz&quot;</code> را برای اعدادی که بر 3 و 5 به طور همزمان بخش پذیرند چاپ کند ( برنامه همچنان باید <code>&quot;Fizz&quot;</code> و <code>&quot;Buzz&quot;</code> را برای اعدادی که به هر یک بخش پذیرند را چاپ کند).</p>

<p>(این مساله در واقع یکی از سوالات مصاحبه شغلی است که ادعا شده که می تواند برای رد افرادی که مناسب برنامه نویسی نیستند استفاده شود. بنابراین اگر شما آن را حل کردید، همین الان قیمت شما در بازار کار بالاتر رفت.  )</p>

<pre class="snippet cm-s-default" data-language="javascript" ><span class="cm-comment">// Your code here.</span></pre>

<div class="solution"><div class="solution-text">

<p>حرکت بین اعدا به وضوح به حلقه‌ها مربوط می شود و انتخاب گزینه برای خروجی، به اجرای شرطی ارتباط پیدا می کند.  ترفند استفاده از عملگر باقی‌مانده (<code>%</code>) برای چک کردن تقسیم پذیر بودن یک عدد بر دیگری را به خاطر بیاورید ( که باقی مانده آن صفر می شد.)</p>

<p>در نسخه‌ی اول، سه خروجی برای هر عدد ممکن است، بنابراین باید یک زنجیره‌ی <bdo><code>if</code>/<code>else if</code>/<code>else</code></bdo> ایجاد کنید.</p>

<p>نسخه‌ی دوم این برنامه یک راه حل سرراست و یک راه حل هوشمندانه دارد. راه حل ساده این است که یک شاخه‌ی شرط دیگر اضافه شود تا شرط داده شده به دقت بررسی شود. برای راه هوشمندانه، رشته‌ای حاوی کلمه یا کلماتی بسازید که در صورت بودن عدد، رشته و در غیر این صورت عدد مورد نظر چاپ شود. می توان از عملگر <code>||</code> در اینجا به شکل خوبی استفاده کرد.</p>

</div></div>

<h3><a class="i_ident" id="i_tJuIjl8sGl" href="#i_tJuIjl8sGl" tabindex="-1" role="presentation"></a>صفحه‌ی شطرنج</h3>

<p><a class="p_ident" id="p_6rp3kofaLm" href="#p_6rp3kofaLm" tabindex="-1" role="presentation"></a>برنامه ای بنویسید که رشته‌ای را ایجاد می کند که نمایانگر یک صفحه‌ی 8×8 است. از کاراکتر خط جدید برای جداسازی خطوط استفاده کنید. در هر مکان از صفحه می توان یا از فضای خالی (فاصله) یا کاراکتر &quot;#&quot; استفاده کرد. مجموع کاراکترها باید شبیه صفحه شطرنج باشند.</p>

<p>رشته‌ی تولیدی را اگر به تابع <code>console.log</code> بدهید بایستی چیزی شبیه شکل زیر را تولید کند:</p>

<pre class="snippet cm-s-default" data-language="null" ><a class="c_ident" id="c_7bNzisP4Fe" href="#c_7bNzisP4Fe" tabindex="-1" role="presentation"></a> # # # #
# # # #
 # # # #
# # # #
 # # # #
# # # #
 # # # #
# # # #</pre>

<p>بعد از ساختن قسمت اول و تولید الگوی بالا، اکنون متغیر <bdo><code>size = 8</code></bdo> را تعریف کنید و برنامه را طوری تغییر دهید که برای هر مقدار <code>size</code> به درستی کار کند و صفحه‌ای با آن طول و عرض تولید کند.</p>

<pre class="snippet cm-s-default" data-language="javascript" ><span class="cm-comment">// Your code here.</span></pre>

<div class="solution"><div class="solution-text">

<p>با یک رشته‌ی خالی (<code>&quot;&quot;</code>) می توانید ساخت رشته‌ی مورد نظر را شروع کنید و بعد به صورت مداوم کاراکتر‌ها را ضافه نمایید. یک کاراکتر خط جدید به صورت <code>&quot;\n&quot;</code> نوشته می شود.</p>

<p>برای کار با دو بعد، لازم از تا از یک حلقه درون حلقه‌ای دیگر استفاده کنید. پیرامون بدنه‌های هر دو حلقه، کروشه بگذارید تا شروع و پایان هر یک را گم نکنید. سعی کنید تا برای بدنه‌ها به خوبی تورفتگی ایجاد کنید. ترتیب قرارگیری حلقه‌ها باید براساس رشته‌ای که می‌سازیم باشد (خط به خط، چپ به راست، بالا به پایین). بنابراین حلقه‌ی بیرونی خطوط را پوشش می دهد و حلقه‌ی درونی کاراکترهای هر خط را تولید می کند.</p>

<p>به دو متغیر برای ردگیری پیشرفت برنامه نیاز خواهید داشت. برای دانستن اینکه در یک موقعیت آیا باید فضای خالی قرار دهید یا کاراکتر <code>#</code>، می توانید بررسی کنید که جمع دو شمارنده‌ مقداری زوج باشد (<code>% 2</code>).</p>

<p>پایان دادن یک خط با یک کاراکتر خط جدید (<code>&quot;\n&quot;</code>) باید بعد از اینکه هر خط ساخته شد اتفاق بیفتند، بنابراین این کار را بعد از حلقه‌ی درونی اما درون حلقه‌ی بیرونی انجام دهید.</p>

</div></div><nav><a href="01_values.html" title="previous chapter">◀</a> <a href="index.html" title="cover">◆</a> <a href="03_functions.html" title="next chapter">▶</a></nav>
</article>
